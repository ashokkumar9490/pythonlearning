<!-- create display for all emps-->
<div class="container">
  <h2>Employees</h2>
  <div class="accordion accordion-flush" id="accordionFlushExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingOne">
        <button
          class="accordion-button collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#flush-collapseOne"
          aria-expanded="false"
          aria-controls="flush-collapseOne"
        >
          Employee Form
        </button>
      </h2>
      <div
        id="flush-collapseOne"
        class="accordion-collapse collapse"
        aria-labelledby="flush-headingOne"
        data-bs-parent="#accordionFlushExample"
      >
        <div class="accordion-body">
          <form [formGroup]="empForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label for="id">Id:</label>
              <input
                type="number"
                class="form-control"
                id="id"
                formControlName="id"
              />
            </div>
            <div class="form-group">
              <label for="name">Name:</label>
              <input
                type="text"
                class="form-control"
                id="name"
                formControlName="name"
              />
            </div>
            <div class="form-group">
              <label for="salary">Salary:</label>
              <input
                type="number"
                class="form-control"
                id="salary"
                formControlName="salary"
              />
            </div>
            <div class="form-group">
              <label for="image">Image:</label>
              <input
                type="text"
                class="form-control"
                id="image"
                formControlName="image"
              />
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <hr />
  Marked Employees - {{ countMarked }}
  <hr />
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Salary</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of emps">
        <td>{{ emp.id }}</td>
        <td *ngIf="emp.name.endsWith('*')" style="color: red">
          {{ emp.name }}
        </td>
        <td *ngIf="!emp.name.endsWith('*')">
          {{ emp.name }}
        </td>
        <td>{{ emp.salary }}</td>
        <!-- <td>{{ emp.image }}</td> -->
        <td>
          <button class="btn btn-sm btn-danger" (click)="DelEmp(emp)">
            Delete
          </button>
          <button
            class="btn btn-sm btn-danger"
            (click)="MarkEmp(emp)"
            style="margin-left: 20px"
          >
            Mark
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

@if(error){
<div class="alert alert-danger">
  {{ error }}
</div>
} @else {
<!-- create form using formgroup fb-->
@if(!start){
<div class="container">
  <!-- <div class="accordion accordion-flush" id="accordionFlushExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingOne">
        <button
          class="accordion-button collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#flush-collapseOne"
          aria-expanded="false"
          aria-controls="flush-collapseOne"
        >
          Employee Form
        </button>
      </h2>
      <div
        id="flush-collapseOne"
        class="accordion-collapse collapse"
        aria-labelledby="flush-headingOne"
        data-bs-parent="#accordionFlushExample"
      >
        <div class="accordion-body">
          <form [formGroup]="empForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label for="id">Id:</label>
              <input
                type="number"
                class="form-control"
                id="id"
                formControlName="id"
              />
            </div>
            <div class="form-group">
              <label for="name">Name:</label>
              <input
                type="text"
                class="form-control"
                id="name"
                formControlName="name"
              />
            </div>
            <div class="form-group">
              <label for="salary">Salary:</label>
              <input
                type="number"
                class="form-control"
                id="salary"
                formControlName="salary"
              />
            </div>
            <div class="form-group">
              <label for="image">Image:</label>
              <input
                type="text"
                class="form-control"
                id="image"
                formControlName="image"
              />
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div> -->
</div>

}
<div class="row">
  <div class="card col-md-3 p-5" *ngFor="let e of emps">
    <app-emps-details [edet]="e"></app-emps-details>
  </div>
</div>
}
